<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Road Safety Predictor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="container">
    <h2>Road Safety Predictor</h2>
    
    <div class="form-container">
        <form id="road-form">
            <!-- Road Info -->
            <h3>Road Info</h3>
            <label>Road Type</label>
            <select name="road_type" id="road_type">
                <option value="urban">Urban</option>
                <option value="rural">Rural</option>
                <option value="highway">Highway</option>
            </select>

            <label>Number of Lanes</label>
            <input type="number" id="num_lanes" name="num_lanes" min="1" max="10" value="2">

            <label>Curvature (0â€“1)
                <span title="0 = straight road, 0.5 = moderate bend, 1 = very sharp turn">(?)</span>
            </label>
            <input type="range" id="curvature" name="curvature" min="0" max="1" step="0.01" value="0.3">
            <span id="curvature_val">0.3</span>

            <label>Speed Limit (km/h)</label>
            <input type="number" id="speed_limit" name="speed_limit" value="50" min="10" max="200">

            <!-- Environmental Info -->
            <h3>Environment</h3>
            <label>Lighting</label>
            <select name="lighting" id="lighting">
                <option value="daylight">Daylight</option>
                <option value="dim">Dim</option>
                <option value="night">Night</option>
            </select>

            <label>Weather</label>
            <select name="weather" id="weather">
                <option value="clear">Clear</option>
                <option value="rainy">Rainy</option>
                <option value="foggy">Foggy</option>
            </select>

            <label>
                <input type="checkbox" id="road_signs_present" name="road_signs_present"> Road Signs Present
            </label>

            <label>
                <input type="checkbox" id="public_road" name="public_road"> Public Road
            </label>

            <!-- Time & Season -->
            <h3>Time & Season</h3>
            <label>Time of Day</label>
            <select name="time_of_day" id="time_of_day">
                <option value="morning">Morning</option>
                <option value="afternoon">Afternoon</option>
                <option value="evening">Evening</option>
            </select>

            <label>
                <input type="checkbox" id="holiday" name="holiday"> Holiday
            </label>

            <label>
                <input type="checkbox" id="school_season" name="school_season"> School Season
            </label>

            <label>Reported Accidents</label>
            <input type="number" id="num_reported_accidents" name="num_reported_accidents" value="0" min="0">

            <button type="button" id="predict-btn">Predict Risk</button>
        </form>
    </div>

    <!-- Prediction Result -->
    <div id="prediction-result">
        <h3>Predicted Accident Risk</h3>
        <canvas id="risk-gauge" width="200" height="200"></canvas>
        <p id="risk-text"></p>
    </div>

    <!-- Link to Game -->
    <div class="game-link">
        <h3>Want to play a game?</h3>
        <a href="{{ url_for('main.game_page') }}">
            <button type="button">Pick the Safer Road Game</button>
        </a>
    </div>
</div>

<script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>
